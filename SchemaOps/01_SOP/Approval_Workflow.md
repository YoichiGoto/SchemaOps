# SchemaOps 承認フロー運用ガイド

## 承認シート設計
### 列構成
- **proposalId**: 提案ID（自動生成）
- **targetSheet**: 対象シート（Canonical_Schema/MP_Mapping/Attribute_Dictionary）
- **changeType**: 変更種別（add/update/delete）
- **changeDetails**: 変更詳細（JSON形式）
- **proposer**: 提案者
- **proposedAt**: 提案日時
- **reviewer**: 承認者
- **status**: ステータス（pending/approved/rejected）
- **reviewedAt**: 承認日時
- **reviewNotes**: 承認コメント
- **appliedAt**: 適用日時

## 承認フロー
### 1. 提案作成
- オペレーターが変更を検知・分析
- 承認シートに提案行を追加
- 変更詳細をJSON形式で記録

### 2. レビュー
- リード/監修が提案をレビュー
- 技術的妥当性・影響範囲を確認
- 承認/却下を決定

### 3. 適用
- 承認された提案を対象シートに反映
- バージョン管理（version列更新）
- 適用日時を記録

## 自動化レベル
### Level 1: 手動承認
- 全ての変更を人間が承認
- 安全性重視、学習期間

### Level 2: 条件付き自動承認
- 軽微な変更（minor severity）は自動承認
- 辞書追加・例値更新等

### Level 3: AI支援承認
- LLMが変更の妥当性を事前評価
- 信頼度スコアに基づく自動承認

## 承認基準
### 自動承認対象
- 同義語の追加（既存パターンに準拠）
- 例値の追加・更新
- 説明文の改善
- 軽微な表記統一

### 要承認対象
- 必須属性の追加・削除
- データ型の変更
- 変換ルールの大幅変更
- 新しいMPの追加

### 要監修承認対象
- カテゴリ構造の変更
- 業界標準の適用変更
- アーキテクチャレベルの変更

## 品質管理
### 承認前チェック
- 必須列の充足確認
- 例値の妥当性検証
- 変換ルールの構文チェック
- 重複・矛盾の検出

### 適用後検証
- Validation_Checklistでの自動検証
- PASS率の確認
- 回帰テストの実行

## エスカレーション
### 緊急承認
- critical severityの変更
- 24時間以内の承認が必要
- 複数承認者の設定

### 専門家相談
- 業界標準に関する変更
- 法的要件への対応
- 技術的複雑性の高い変更

## 監査・トレーサビリティ
### ログ記録
- 全ての承認・却下を記録
- 承認理由・却下理由を保存
- 変更履歴の完全性確保

### 定期レビュー
- 承認パターンの分析
- 自動承認率の監視
- 承認品質の評価

## ツール・自動化
### GAS連携
- 承認シートの自動更新
- 承認通知の送信
- 適用処理の自動化

### ダッシュボード
- 承認待ち件数の可視化
- 承認時間の監視
- 承認率の追跡

## 改善・最適化
### 承認時間短縮
- 承認基準の明確化
- テンプレート化の推進
- 自動化レベルの段階的向上

### 品質向上
- 承認ミスの分析・改善
- ベストプラクティスの共有
- 継続的な教育・研修





